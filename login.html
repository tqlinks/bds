<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng Nh·∫≠p Qu·∫£n Tr·ªã</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <style>
        body { font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #f4f4f9; }
        .login-box { background-color: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); width: 100%; max-width: 400px; text-align: center; }
        h2 { color: #007bff; margin-bottom: 30px; }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #555; }
        .form-group input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 16px; }
        button { background-color: #007bff; color: white; padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 18px; width: 100%; transition: background-color 0.3s; }
        button:hover { background-color: #0056b3; }
        #error-message { color: red; margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>

<div class="login-box">
    <h2>üîí ƒêƒÉng Nh·∫≠p Qu·∫£n Tr·ªã</h2>
    <form id="login-form">
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" required placeholder="admin@example.com">
        </div>
        <div class="form-group">
            <label for="password">M·∫≠t kh·∫©u</label>
            <input type="password" id="password" required placeholder="M·∫≠t kh·∫©u Admin">
        </div>
        <button type="submit">ƒêƒÉng Nh·∫≠p</button>
        <p id="error-message"></p>
    </form>
    <p style="margin-top: 20px; font-size: 0.9em; color: #6c757d;">
        Ng∆∞·ªùi d√πng kh√¥ng ƒëƒÉng nh·∫≠p (kh√°ch) ch·ªâ c√≥ th·ªÉ xem v√† t√¨m ki·∫øm.
    </p>
</div>

<script>
    // ***************************************************************
    // 1. C·∫§U H√åNH FIREBASE (GI·ªÆ NGUY√äN)
    // ***************************************************************
    const firebaseConfig = {
      apiKey: "AIzaSyBBFhxxkIZSguuMV5AZzhLSWa19LYXMOY8",
      authDomain: "bdss-1f754.firebaseapp.com",
      projectId: "bdss-1f754",
      storageBucket: "bdss-1f754.firebasestorage.app",
      messagingSenderId: "1081373432468",
      appId: "1:1081373432468:web:f38cab72330d75de67b281"
    };
    firebase.initializeApp(firebaseConfig);
    
    const auth = firebase.auth();
    const errorMessage = document.getElementById('error-message');

    // ***************************************************************
    // 2. T·∫†O T√ÄI KHO·∫¢N ADMIN ƒê·∫¶U TI√äN (CH·ªà C·∫¶N TH·ª∞C HI·ªÜN 1 L·∫¶N TR√äN CONSOLE)
    // L∆ØU √ù: TH√îNG TH∆Ø·ªúNG S·∫º T·∫†O TH·ª¶ C√îNG TR√äN FIREBASE CONSOLE ƒê·ªÇ B·∫¢O M·∫¨T.
    // N·∫øu b·∫°n mu·ªën t·∫°o b·∫±ng code (ch·ªâ d√πng cho l·∫ßn ƒë·∫ßu):
    /*
    auth.createUserWithEmailAndPassword("admin@yourdomain.com", "your_strong_password_123")
        .then(() => console.log('Admin user created!'))
        .catch(err => console.error(err));
    */
    // ***************************************************************

    document.getElementById('login-form').addEventListener('submit', function(e) {
        e.preventDefault();
        errorMessage.textContent = '';
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        auth.signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
                // ƒêƒÉng nh·∫≠p th√†nh c√¥ng, chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang qu·∫£n l√Ω
                window.location.href = 'input.html';
            })
            .catch((error) => {
                console.error("L·ªói ƒêƒÉng Nh·∫≠p:", error.code, error.message);
                
                let msg = "ƒêƒÉng nh·∫≠p th·∫•t b·∫°i. Vui l√≤ng ki·ªÉm tra email v√† m·∫≠t kh·∫©u.";
                if (error.code === 'auth/user-not-found') {
                    msg = "T√†i kho·∫£n kh√¥ng t·ªìn t·∫°i.";
                } else if (error.code === 'auth/wrong-password') {
                    msg = "M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng.";
                }
                errorMessage.textContent = msg;
            });
    });

</script>

</body>
</html>
